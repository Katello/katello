<section class="nutupane-sub-section">
  <div bst-table="tasksTable" class="task-list-table">
    <div bst-container-scroll>
      <div infinite-scroll="tasksTable.nextPage()" infinite-scroll-container="'.nutupane-sub-section .container-scroll-wrapper'">
        <table ng-class="{'table-mask': tasksTable.working}" class="table table-full table-striped tasks-table">
          <thead>
            <tr bst-table-head>
              <th bst-table-column="Status" class='task-status' translate>Status</th>
              <th bst-table-column="Event" translate>Event</th>
              <th bst-table-column="User" class='task-user' translate>User</th>
              <th bst-table-column="Date" translate>Date</th>
            </tr>
          </thead>

          <tbody>
            <tr bst-table-row ng-repeat="task in tasksTable.rows">
              <td bst-table-cell>
                <div ng-class="{ active: (task.state === 'pending' || task.state === 'running') }" class="progress progress-striped">
                  <span progressbar animate="false" value="task.progressbar.value" type="{{task.progressbar.type}}"></span>
                </div>
              </td>
              <td bst-table-cell>
                <a class="active" ng-click="tasksTable.gotoDetails(task.id)">
                  {{ task.humanized.action }}
                  {{ task.humanized.input | taskInputReduce:knownContext | taskInputCompile }}
                </a>
              </td>
              <td bst-table-cell>{{ task.username }}</td>
              <td bst-table-cell>{{ task.started_at | date:"short" }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
