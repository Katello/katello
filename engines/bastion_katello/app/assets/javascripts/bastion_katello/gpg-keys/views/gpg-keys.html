<span page-title>{{ 'GPG Keys' | translate }}</span>

<div data-extend-template="layouts/table-with-header.html">
  <div data-block="header">
    <h2 translate>GPG Keys</h2>
  </div>

  <div data-block="list-actions">
    <button type="button" class="btn btn-primary" ui-sref="gpg-keys.new" ng-hide="denied('create_gpg_keys')">
      <span translate>Create GPG Key</span>
    </button>
  </div>

  <span data-block="no-rows-message" translate>
    You currently don't have any GPG keys, you can add GPG keys using the button on the right.
  </span>

  <span data-block="no-search-results-message" translate>
    Your search returned zero GPG keys.
  </span>

  <div data-block="table">
    <table bst-table="table" class="table table-striped table-bordered" ng-class="{'table-mask': table.working}">
      <thead>
      <tr bst-table-head>
        <th bst-table-column="name" sortable><span translate>Name</span></th>
        <th bst-table-column="organization"><span translate>Organization</span></th>
        <th bst-table-column="products" class="number-cell"><span translate>Product Count</span></th>
        <th bst-table-column class="number-cell"><span translate>Repository Count</span></th>
      </tr>
      </thead>

      <tbody>
      <tr bst-table-row ng-repeat="gpgKey in table.rows">
        <td bst-table-cell>
          <a ui-sref="gpg-key.info({gpgKeyId: gpgKey.id})">{{ gpgKey.name }}</a>
        </td>
        <td bst-table-cell>{{ gpgKey.organization.name }}</td>
        <td bst-table-cell class="number-cell">{{ gpgKey.products.length || 0 }}</td>
        <td bst-table-cell class="number-cell">{{ gpgKey.repositories.length || 0 }}</td>
      </tr>
      </tbody>
    </table>

  </div>
</div>
