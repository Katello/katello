
<div class="row">
  <div class="col-sm-12">
    <dl class="dl-horizontal dl-horizontal-left">
      <dt translate>Name</dt>
      <dd bst-edit-text="gpgKey.name"
          on-save="save(gpgKey)"
          readonly="denied('edit_gpg_keys', gpgKey)">
      </dd>

      <dt translate>Content</dt>
      <dd bst-edit-custom="gpgKey.content"
          readonly="denied('edit_gpg_keys', gpgKey)"
          on-save="save(gpgKey)">
        <form role="form"
              action="{{ uploadURL }}"
              ng-upload="uploadContent(content)"
              error-catcher="uploadError(error, content)"
              upload-options-enable-controls
              upload-options-enable-rails-csrf>

          <div class="form-group">
            <textarea class="form-control" ng-model="gpgKey.content"></textarea>
          </div>

          <div class="form-group">
            <input type="file" name="content"/>
          </div>

          <div class="form-group">
            <button type="button" class="btn btn-default" upload-submit ng-click="progress.uploading = true">
              <i class="fa fa-spinner fa-spin" ng-show="progress.uploading"></i>
              <span ng-show="progress.uploading" translate>Uploading...</span>
              <span ng-hide="progress.uploading" translate>Upload</span>
            </button>
          </div>
        </form>
      </dd>

      <dt translate>Products</dt>
      <dd>
        <a ui-sref="gpg-key.products">
          {{ gpgKey.products.length }}
        </a>
      </dd>

      <dt translate>Repositories</dt>
      <dd>
        <a ui-sref="gpg-key.repositories">
          {{ gpgKey.repositories.length }}
        </a>
      </dd>
    </dl>
  </div>
</div>