
= content_for :title do
  #{_("New Configuration Template")}

= content_for :content do
  .grid_10
    = kt_form_for ::Foreman::ConfigTemplate.new, :as=>"configuration_template", :url => configuration_templates_path, :html=>{:id=>"new_configuration_template" } do |form|

      = form.text_field :name, :label => _("Name:")
      = form.check_box :snippet, {:label => _("Snippet:")}, 'true', 'false'
      %fieldset
        .grid_2.ra
          %label #{_("Type")}:
        .grid_5.la
          = select_tag 'configuration_template[template_kind][id]', options_for_select([['PXLinux', 1], ['gPXE', 2]]), :include_blank => true
      = form.text_area :template, :label => _(":Template Editor:"), :value=> ""
      // "Selecting a file will override the editor and load the file instead"
      = form.file_field :template, :label => _("Template:")
      = form.text_area :audit_comment, :label => _("Audit Comment:"), :value=> ""
      %fieldset
        .grid_2.ra
          %label #{_("Applicable Operating Systems")}:
        - ::Foreman::Operatingsystem.all.each do |os|
          .grid_5.la
            %input{ :name => 'configuration_template[operatingsystem_ids][]', :type => 'hidden'}
            = check_box_tag('configuration_template[operatingsystem_ids][]', os.id)
            #{os.name}

      = form.submit _("Save Configuration Template"), :id => :save_configuration_template

      %div{ :style => "min-height: 100px;" }
