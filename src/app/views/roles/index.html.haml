.grid_16
  = two_panel(@roles, @panel_options)

= javascript :roles

= javascript do
  :plain
    localize({
      "add_permission"                    : '#{escape_javascript(_('Add Permission'))}',
      "close_add_permission"              : '#{escape_javascript(_('Close Add Permission'))}',
      "edit_permission"                   : '#{escape_javascript(_('Edit Permission'))}',
      "close_edit_permission"             : '#{escape_javascript(_('Close Edit Permission'))}',
      "edit_permission_header"            : '#{escape_javascript(_('Edit Permission in'))}',
      "remove"                            : '#{escape_javascript(_('Remove'))}',
      "all"                               : '+ #{escape_javascript(_('All'))}',
      "add"                               : '+ #{escape_javascript(_('Add'))}',
      "rule_applied"                      : '#{escape_javascript(_('Applied'))}',
      "rule_not_applied"                  : '#{escape_javascript(_('Not Applied'))}',
      "adding"                            : '#{escape_javascript(_('Adding...'))}',
      "removing"                          : '#{escape_javascript(_('Removing...'))}',
      "name_validation"                   : '#{escape_javascript(_('Name can not be blank.'))}',
      "verb_validation"                   : '#{escape_javascript(_('You must select at least one verb.'))}',
      "full_access"                       : '#{escape_javascript(_('Full Access'))}',
      "loading"                           : "#{escape_javascript(_('Loading Role'))}",
      "add_header_org"                    : "#{escape_javascript(_('Add Permission to'))}",
      "add_header_global"                 : "#{escape_javascript(_('Add Global Permission'))}",
      "roles_summary"                     : "#{escape_javascript(_('Please select Permissions to view and add permissions for this role or Users to see current users with this role.'))}",
      "roles_summary_readonly"            : "#{escape_javascript(_('Please select Permissions to view permissions for this role or Users to see current users with this role.'))}",
      "users_summary"                     : "#{escape_javascript(_('Click Add or Remove next to a user name to apply or remove them from role.'))}",
      "users_summary_readonly"            : "#{escape_javascript(_("User assignments for this role"))}",
      "role_permissions_summary"          : "#{escape_javascript(_('Global permissions allow you to create permissions that span all organizations, or choose a specific organization to apply permissions.'))}",
      "role_permissions_summary_readonly" : "#{escape_javascript(_('Global permissions are permissions that span all organizations; however, organization permissions apply only to the organization they are associated with.'))}",
      "permissions_summary"               : "#{escape_javascript(_('Click Add permission from the bar below to add a permission.'))}",
      "permissions_summary_readonly"      : "#{escape_javascript(_('Permissions for this role.'))}",
      "permission_detail_summary"         : "#{escape_javascript(_('Click edit permission from the bar below to edit the current permission.'))}",
      "permission_detail_readonly"        : "#{escape_javascript(_('Details for the currently selected permission.'))}",
      "edit_role_details"                 : '#{escape_javascript(_("Edit Role Details"))}',
      'close_role_details'                : '#{escape_javascript(_("Close Role Details"))}',
      'all_types_selected'                : '#{escape_javascript(_("You have selected all resource types; this will grant full access to the organization. Press the Cancel button to select an individual resource type."))}',
      "no_tags_for_type"                  : '#{escape_javascript(_("There are no tags for the resource type you have chosen."))}',
      "no_permissions"                    : '#{escape_javascript(_("There are currently no permissions for this organization.  Please click Add Permission in the action bar below to add a permission to this organization."))}',
      "no_global_permissions"             : '#{escape_javascript(_("There are currently no Global permissions for this role.  Please click Add Permission in the action bar below to add a Global permission.  A Global permission is one that cuts across all organizations."))}',
      "name_colon": '#{escape_javascript(_("Name:"))}',
      "description_colon": '#{escape_javascript(_("Description:"))}',
      "permission_for_colon": '#{escape_javascript(_("Permission For:"))}',
      "verbs_colon": '#{escape_javascript(_("Verb(s):"))}',
      "on_colon": '#{escape_javascript(_("On:"))}',
    });

    var permissions = {
      create_roles: #{Role.creatable?},
      read_roles: #{Role.any_readable?},
      update_roles: #{Role.editable?},
      delete_roles: #{Role.deletable?}
    };
