<%= javascript "katello/hosts/host_and_hostgroup_edit" %>
<style>
    option.kt-env { margin-left: 0em; }
    option.kt-cv  { margin-left: 1em; }
</style>

<%= select_f f, :kt_environment_id,
           Katello::KTEnvironment.completer_scope(@organization).has_puppet_environment, :id, :name,
           { :include_blank => true },
           { :class => 'form-control', :label => _('Lifecycle Environment'),
             :'data-url' => kt_environment_selected_hosts_path,
             :help_inline => :indicator
            }
%>

<%# put in helper %>
<% @kt_environment = f.object.kt_environment %>
<% cv_options = Katello::ContentView.in_environment(@kt_environment).with_available_versions_in_puppet_environment %>
<%# ----- %>
<%= select_f f, :content_view_id,
           cv_options, :id, :name,
           { :include_blank => true },
           { :class => 'form-control', :label => _('Content View'),
             :disabled => cv_options.empty?,
             :'data-url' => content_view_selected_hosts_path,
             :help_inline => :indicator
           }
%>

<% proxies = SmartProxy.unscoped.with_taxonomy_scope(@location,@organization,:path_ids) %>
<% if proxies.count > 0 %>
    <%= select_f f, :content_source_id, proxies, :id, :name,
             { :include_blank => blank_or_inherit_f(f, :content_source) },
             { :label       => _("Content Source"),
               :help_inline => _("Use this as a source for installation and updates.") } %>
<% end %>
