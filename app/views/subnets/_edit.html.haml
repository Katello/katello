= javascript :edit_helpers

= content_for :title do
  #{@subnet.name}

= content_for :remove_item do
  = link_to _("Remove Subnet"), { :controller => "subnets", :action => "destroy" }, :confirm => _('Are you sure you want to remove this subnet?'), :method => :delete, :class=>"remove_item", :remote=>true

= content_for :content do
  .grid_10
    = kt_form_for @subnet, :as=>"subnet", :data_url => subnet_path(@subnet), :url => subnet_path(@subnet), :html=>{ :id=>"edit_subnet" } do |form

      = form.editable :name, :label => _("Name:")
      = form.editable :network, :label => _("Network:")
      = form.editable :mask, :label => _("Netmask:")
      = form.editable :gateway, :label => _("Gateway:")
      = form.editable :dns_primary, :label => _("Primary DNS:")
      = form.editable :dns_secondary, :label => _("Secondary DNS:")
      = form.editable :from, :label => _("From IP:")
      = form.editable :to, :label => _("To IP:")
      = form.editable :vlanid, :label => _("VLAN:")

      - domain_opts = Foreman::Domain.all.map {|d| [d.name, d.id]}
      - dhcp_opts = Foreman::SmartProxy.dhcp_proxies.map {|d| [d.name, d.id]}
      - tftp_opts = Foreman::SmartProxy.tftp_proxies.map {|d| [d.name, d.id]}
      - dns_opts  = Foreman::SmartProxy.dns_proxies.map {|d| [d.name, d.id]}

      = form.select :domain_ids,
        domain_opts, {},
        {:label => _("Domains:"), :multiple => "true", :id=>:domain_ids, 'data-placeholder'=>_("Choose domains..."), :style=>"width: 400px; height: 200px;"}
      = form.select :dhcp_id,
        dhcp_opts, {},
        {:label => _("Dhcp:"), :id=>:dhcp_id, :style=>"width: 200px", 'data-placeholder'=>_("Choose a dhcp...")}
      = form.select :tftp_id,
        tftp_opts, {},
        {:label => _("Tftp:"), :id=>:tftp_id, :style=>"width: 200px", 'data-placeholder'=>_("Choose a tftp...")}
      = form.select :dns_id,
        dns_opts, {},
        {:label => _("Dns:"), :id=>:dns_id, :style=>"width: 200px", 'data-placeholder'=>_("Choose a dns...")}

      .grid_5.la.prefix_2
        #update_subnet.button{:'data-url'=>subnet_path(@subnet)}
          #{_("Save Subnet")}

      %div{ :style => "min-height: 100px;" }
