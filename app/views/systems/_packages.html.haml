= javascript :system_packages

= content_for :title do
  #{@system.name}

= content_for :navigation do
  = render_navigation(:items => systems_navigation, :expand_all => true, :level => 1)

= content_for :content do
  .grid_8.summary
    .summary_top
      .packages_icon
      .fl
        = image_tag("boxshadow.png")
      .summary_text.fl #{_("All Packages are up-to-date.")}

  - if packages.length > 0
    %table.packages.ajaxScroll
      %thead
        %th{:colspan => 3}
          %a#package_sort{"data-sort"=>"asc", :class=>"ascending"}
            #{_("Name")}
        %th
          #{_("Date Added")}
      %tbody
        -packages.each do |p|
          %tr
            %td.package_select
              = check_box_tag "subscription_id[#{p.id}]", false
            %td.package_status.packages_icon
            %td{:class=>"package"}
              #{p.nvrea}
            %td{:class=>"arch"}
              TODO: installed date

    %a#more{"data-scroll_url"=>url_for(more_packages_system_path()), "data-page_size"=>current_user.page_size, "data-offset"=>offset, :class=>"fl"} #{_("More...")}

    - if editable
      .prefix_2.grid_6.ra
        #update_key.button{}
          #{_("Update")}
        #remove_key.button{}
          #{_("Remove")}

    #list-spinner
      = image_tag("spinner.gif", :class=>"ajax_scroll")

  - else
    %p There are no packages to display.

