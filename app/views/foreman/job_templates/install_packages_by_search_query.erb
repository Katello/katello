<%#
kind: job_template
name: Install Packages by search query - Katello SSH Default
job_category: Katello
description_format: 'Install package(s) %{Package search query}'
feature: katello_package_install_by_search
provider_type: SSH
template_inputs:
- name: Package search query
  description: Filter criteria for packages to be installed.
  input_type: user
  required: true
foreign_input_sets:
- template: Package Action - SSH Default
  exclude: action
%>
<% package_names = @host.package_names_for_job_template(
  feature: 'katello_package_install_by_search',
  search: input('Package search query')
) -%>

<%= render_template('Package Action - SSH Default', :action => 'install', :package => package_names.join(' ')) %>