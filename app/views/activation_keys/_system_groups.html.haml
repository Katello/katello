= javascript :activation_key_system_groups

= content_for :title do
  #{@activation_key.name}

= content_for :remove_item do
  - if editable
    = link_to _("Remove Activation Key"), activation_key_path(@activation_key.id), :confirm => _('Are you sure?'), :method => :delete, :class=>"remove_item", :remote=>true

= content_for :navigation do
  = render_menu(1..2, activation_keys_navigation)

= content_for :content do
  .grid_10#system_groups
    %h5.grid_10 #{_("System Groups")}
    - if editable
      = form_tag update_system_groups_activation_key_path(@activation_key), :method => "put", :id => "update_system_groups" do
        .grid_10
          = select_tag "activation_key[system_group_ids]", options_from_collection_for_select(@system_groups, :id, :name, @activation_key.system_group_ids), :multiple => true, :class => 'multiselect', :style=>"width:500px; height:350px"
        .grid_2
          = button_to _("Save System Groups"), update_system_groups_activation_key_path(@activation_key), :method => :put, :id => :save_groups
    -else
      -if @system_groups.length > 0
        %table{:style=>"width:400px;"}
          %thead
            %tr
              %th #{_("Name")}
          %tbody
            - for group in @system_groups
              - cycle_class = cycle("", "alt")
              %tr{:class => cycle_class}
                %td
                  = group.name
      -else
        = _("You have no system groups defined.")
